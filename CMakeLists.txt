cmake_minimum_required(VERSION 3.14)
project(corewar)

set(CMAKE_C_STANDARD 90)

set(CMAKE_C_FLAGS "-o3 -march=native")
include_directories(libft)
include_directories(ft_printf)
include_directories(/includes)
add_executable(corewar src/vm_src/vm.c src/vm_src/vm_no_print_map.c src/vm_src/vm_make_start_list_cursor.c src/vm_src/vm_lstdel_cursor.c src/vm_src/vm_rewrite_map.c src/vm_src/vm_init_cycle.c src/vm_src/vm_arena.c src/vm_src/op_all_fork.c src/vm_src/vm_op_aff.c src/vm_src/vm_op_live.c src/vm_src/vm_get_args.c src/vm_src/vm_arena.c src/vm_src/vm_print_map.c src/vm_src/vm_print_players.c src/vm_src/vm_op_lld.c src/vm_src/vm_op_lfork.c src/vm_src/vm_op_fork.c src/vm_src/vm_valid_input.c src/vm_src/vm_init_input.c src/vm_src/vm_init_player.c src/vm_src/vm_check_cursor.c src/vm_src/vm_error.c src/vm_src/vm_print_cursor.c src/vm_src/vm_do_cycle.c src/vm_src/vm_init_t_dir.c src/vm_src/vm_init_t_ind.c src/vm_src/vm_init_args.c src/vm_src/vm_dir_or_ind.c src/vm_src/vm_move.c src/vm_src/vm_op_ld.c src/vm_src/vm_op_zjmp.c src/vm_src/vm_op_st.c src/vm_src/vm_op_add.c src/vm_src/vm_op_add.c src/vm_src/vm_op_sub.c src/vm_src/vm_op_and.c src/vm_src/vm_get_args.c src/vm_src/vm_unfold_indirects.c src/vm_src/vm_validate_args.c src/vm_src/vm_op_sti.c src/vm_src/vm_op_or.c src/vm_src/vm_op_xor.c src/vm_src/op_bitwise.c src/vm_src/vm_op_ldi.c src/vm_src/op_load.c src/vm_src/op_load_i.c src/vm_src/vm_op_lldi.c src/vm_src/op_add_sub.c src/vm_src/vm_print_log.c src/vm_src/vm_make_player_params.c src/vm_src/vm_player_lst.c src/vm_src/vm_get_flags.c src/vm_src/vm_print_map_colors.c src/vm_src/vm_print_map_static.c src/vm_src/vm_print_map_dynamic.c)
add_executable(asm src/asm_src/set_def_gen.c src/asm_src/write_int_to_file.c src/asm_src/do_exit.c src/asm_src/reading.c src/asm_src/t_token_func.c src/asm_src/char_to_string.c src/asm_src/print_point.c src/asm_src/lexical_analyz.c src/asm_src/recording.c src/asm_src/write_short_to_file.c src/asm_src/write_byte_to_file.c src/asm_src/write_nam_com_to_file.c src/asm_src/main.c src/asm_src/is_equal_token_type.c src/asm_src/next_token.c src/asm_src/parse_op_name_comment.c src/asm_src/print_expected_exit.c src/asm_src/print_token_type.c src/asm_src/switch_parse_1.c src/asm_src/switch_parse_2.c src/asm_src/recording_1.c src/asm_src/recording_2.c src/asm_src/reading_1.c src/asm_src/reading_2.c src/asm_src/reading_3.c src/asm_src/reading_4.c src/asm_src/reading_5.c)
set(CMAKE_C_FLAGS "-o3 -march=native")
add_subdirectory(libft)
target_link_libraries(corewar libft ncurses)
target_link_libraries(asm libft)
add_subdirectory(ft_printf)
target_link_libraries(corewar ft_printf)
target_link_libraries(asm ft_printf)